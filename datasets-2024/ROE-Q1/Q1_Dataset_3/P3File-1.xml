<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE us-patent-application SYSTEM "us-patent-application-v46-2022-02-17.dtd" [ ]>
<us-patent-application lang="EN" dtd-version="v4.6 2022-02-17" file="US20230225237A1-20230720.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20230704" date-publ="20230720">
<us-bibliographic-data-application lang="EN" country="US">
<publication-reference>
<document-id>
<country>US</country>
<doc-number>20230225237</doc-number>
<kind>A1</kind>
<date>20230720</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>18121636</doc-number>
<date>20230315</date>
</document-id>
</application-reference>
<us-application-series-code>18</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2020-156723</doc-number>
<date>20200917</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>A</section>
<class>01</class>
<subclass>B</subclass>
<main-group>69</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20230720</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>05</class>
<subclass>D</subclass>
<main-group>1</main-group>
<subgroup>02</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20230720</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classifications-cpc>
<main-cpc>
<classification-cpc>
<cpc-version-indicator><date>20130101</date></cpc-version-indicator>
<section>A</section>
<class>01</class>
<subclass>B</subclass>
<main-group>69</main-group>
<subgroup>008</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20230720</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
<scheme-origination-code>C</scheme-origination-code>
</classification-cpc>
</main-cpc>
<further-cpc>
<classification-cpc>
<cpc-version-indicator><date>20130101</date></cpc-version-indicator>
<section>G</section>
<class>05</class>
<subclass>D</subclass>
<main-group>1</main-group>
<subgroup>0219</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20230720</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
<scheme-origination-code>C</scheme-origination-code>
</classification-cpc>
<classification-cpc>
<cpc-version-indicator><date>20130101</date></cpc-version-indicator>
<section>G</section>
<class>05</class>
<subclass>D</subclass>
<main-group>2201</main-group>
<subgroup>0201</subgroup>
<symbol-position>L</symbol-position>
<classification-value>A</classification-value>
<action-date><date>20230720</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
<scheme-origination-code>C</scheme-origination-code>
</classification-cpc>
</further-cpc>
</classifications-cpc>
<invention-title id="d2e61">TRAVEL LINE CREATION SYSTEM FOR AGRICULTURAL MACHINE</invention-title>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>PCT/JP2021/034093</doc-number>
<date>20210916</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>18121636</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
</us-related-documents>
<us-parties>
<us-applicants>
<us-applicant sequence="00" app-type="applicant" designation="us-only" applicant-authority-category="assignee">
<addressbook>
<orgname>KUBOTA CORPORATION</orgname>
<address>
<city>Osaka-shi</city>
<country>JP</country>
</address>
</addressbook>
<residence>
<country>JP</country>
</residence>
</us-applicant>
</us-applicants>
<inventors>
<inventor sequence="00" designation="us-only">
<addressbook>
<last-name>MORIMOTO</last-name>
<first-name>Takanori</first-name>
<address>
<city>Sakai-shi</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="01" designation="us-only">
<addressbook>
<last-name>KIKUCHI</last-name>
<first-name>Ryota</first-name>
<address>
<city>Sakai-shi</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="02" designation="us-only">
<addressbook>
<last-name>TAMATANI</last-name>
<first-name>Kenji</first-name>
<address>
<city>Sakai-shi</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
<inventor sequence="03" designation="us-only">
<addressbook>
<last-name>YOSHIMURA</last-name>
<first-name>Fumiya</first-name>
<address>
<city>Sakai-shi</city>
<country>JP</country>
</address>
</addressbook>
</inventor>
</inventors>
</us-parties>
</us-bibliographic-data-application>
<abstract id="abstract">
<p id="p-0001" num="0000">A travel line creation system for an agricultural machine, includes a position acquirer to acquire position measurement points for the agricultural machine, a display, a first generator to associate the position measurement points with a field displayed by the display and generate creation points on the field by shifting the position measurement points inward in an agricultural field, a second generator to create a travel line including a loop which passes through the creation points and calculate each of virtual lines by connecting together adjacent ones of the creation points, and a setter to extract a pair of virtual lines adjacent to each other and extending in different directions and set, as a work point regarding a breakpoint in work performed by a working device, one of the creation points shared by the extracted pair of virtual lines.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="102.79mm" wi="155.19mm" file="US20230225237A1-20230720-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="254.00mm" wi="171.20mm" orientation="landscape" file="US20230225237A1-20230720-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="194.73mm" wi="172.21mm" orientation="landscape" file="US20230225237A1-20230720-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="260.86mm" wi="132.42mm" file="US20230225237A1-20230720-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="203.12mm" wi="151.21mm" orientation="landscape" file="US20230225237A1-20230720-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="109.30mm" wi="160.19mm" file="US20230225237A1-20230720-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="109.22mm" wi="159.43mm" file="US20230225237A1-20230720-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="108.88mm" wi="158.33mm" file="US20230225237A1-20230720-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="256.37mm" wi="172.13mm" orientation="landscape" file="US20230225237A1-20230720-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="241.47mm" wi="149.86mm" orientation="landscape" file="US20230225237A1-20230720-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="259.93mm" wi="174.07mm" orientation="landscape" file="US20230225237A1-20230720-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="257.89mm" wi="165.61mm" file="US20230225237A1-20230720-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="266.95mm" wi="175.85mm" orientation="landscape" file="US20230225237A1-20230720-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="251.80mm" wi="176.36mm" orientation="landscape" file="US20230225237A1-20230720-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="267.38mm" wi="173.23mm" orientation="landscape" file="US20230225237A1-20230720-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="229.36mm" wi="163.32mm" file="US20230225237A1-20230720-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="241.47mm" wi="173.57mm" orientation="landscape" file="US20230225237A1-20230720-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="265.85mm" wi="171.70mm" orientation="landscape" file="US20230225237A1-20230720-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="265.60mm" wi="166.79mm" file="US20230225237A1-20230720-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="260.35mm" wi="174.84mm" orientation="landscape" file="US20230225237A1-20230720-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a continuation application of International Application No. PCT/JP2021/034093, filed on Sep. 16, 2021, which claims the benefit of priority to Japanese Patent Application No. 2020-156723, filed on Sep. 17, 2020. The entire contents of this application are hereby incorporated herein by reference.</p>
<?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?>
<?summary-of-invention description="Summary of Invention" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<heading id="h-0003" level="1">1. Field of the Invention</heading>
<p id="p-0003" num="0002">The present invention relates to a travel line creation system for an agricultural machine such as a tractor.</p>
<heading id="h-0004" level="1">2. Description of the Related Art</heading>
<p id="p-0004" num="0003">As disclosed in Japanese Unexamined Patent Application Publication No. 2006-204174, when an agricultural machine to which a transplanter is attached as a working device performs planting work in an agricultural field, the agricultural machine travels back and forth and performs planting in an inner area with a headland of the agricultural field left unplanted and then travels and performs planting in the headland surrounding the inner area.</p>
<heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0005" num="0004">However, depending on a positional relationship between a work start point where the transplanter starts the planting work, a work end point where the transplanter ends the planting work, etc., and the entrance/exit of the agricultural field, the agricultural machine may travel to a place where the planting work has already been done when the agricultural machine moves out of the agricultural field or moves to another place after the completion of traveling and planting in the headland area surrounding the inner area.</p>
<p id="p-0006" num="0005">Preferred embodiments of the present invention provide travel line creation systems for agricultural machines that each enable the agricultural machine, when the agricultural machine performs work while traveling along a travel line surrounding the inner area of an agricultural field and moves out of the agricultural field or moves to another place or the like, to avoid traveling a place where the work has already been performed.</p>
<p id="p-0007" num="0006">A travel line creation system for an agricultural machine according to an aspect of an example embodiment of the present invention includes a position acquirer to acquire position measurement points obtained when the agricultural machine to which a working device is attachable makes a round in an agricultural field, a display to display a field that represents the agricultural field, a first generator to associate the position measurement points with the field displayed by the display and generate creation points on the field by shifting the position measurement points inward in the agricultural field, a second generator to create a travel line including a loop which passes through the creation points generated by the first generator and calculate each of virtual lines by connecting together adjacent ones of the creation points on the travel line, and a setter to extract, from the virtual lines generated by the second generator, a pair of virtual lines adjacent to each other and extending different directions and set, as a work point regarding a breakpoint in work performed by the working device, one of the creation points that is shared by the extracted pair of virtual lines.</p>
<p id="p-0008" num="0007">If there are a plurality of the pairs of virtual lines, the setter may extract a particular pair of virtual lines defining an angle not less than a criterion value from the plurality of pairs of virtual lines, and set, as the work point, one of the creation points that is shared by the extracted particular pair of virtual lines.</p>
<p id="p-0009" num="0008">If there are candidates for the work point, the setter may extract a particular pair of virtual lines defining an internal angle less than about 180&#xb0; from a plurality of the extracted pairs of virtual lines, and set, as the work point, one of the creation points that is shared by the extracted particular pair of virtual lines.</p>
<p id="p-0010" num="0009">If there are candidates for the work point, the setter may set, as the work point, one of the candidates that is nearest to an entrance-and-exit of the agricultural field.</p>
<p id="p-0011" num="0010">The second generator may set, as the travel line, a headland work line to perform work on a headland of the agricultural field.</p>
<p id="p-0012" num="0011">The setter may set a work start point, a work end point, a pause point, or a work preparation point of the working device as the work point.</p>
<p id="p-0013" num="0012">The second generator may generate, as a plurality of the travel lines, paths adjacent to each other in a direction from a central portion of the field outward. The setter may set, respectively for the paths adjacent to each other, a plurality of the work points at different positions in a direction in which the paths extend.</p>
<p id="p-0014" num="0013">An agricultural machine includes the above-described travel line creation system for an agricultural machine.</p>
<p id="p-0015" num="0014">The above and other elements, features, steps, characteristics and advantages of the present invention will become more apparent from the following detailed description of the preferred embodiments with reference to the attached drawings.</p>
<?summary-of-invention description="Summary of Invention" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015">A more complete appreciation of preferred embodiments of the present invention and many of the attendant advantages thereof will be readily obtained as the same becomes better understood by reference to the following detailed description when considered in connection with the accompanying drawings described below.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of an agricultural machine.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. <b>2</b></figref> is a diagram illustrating a lifting device.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. <b>3</b></figref> is a diagram for explaining automatic traveling of the agricultural machine.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. <b>4</b></figref> is a diagram illustrating an example of a field registration screen M<b>1</b>.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. <b>5</b>A</figref> is a diagram illustrating determination of a contour of an agricultural field from position measurement points.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. <b>5</b>B</figref> is a diagram illustrating the determination of the contour of the agricultural field from turning points.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. <b>5</b>C</figref> is a diagram illustrating the determination of the contour of the agricultural field from end portions of the agricultural field.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. <b>6</b>A</figref> is a diagram illustrating how a travel line and a unit work zone are generated.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. <b>6</b>B</figref> is a diagram illustrating a travel line and a unit work zone that are different from those of <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. <b>7</b></figref> is a diagram illustrating an example of a setting screen M<b>2</b>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. <b>8</b></figref> is a diagram for explaining creation of creation points.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. <b>9</b>A</figref> is a first diagram for explaining setting of a work point.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. <b>9</b>B</figref> is a second diagram for explaining setting of a work point.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. <b>9</b>C</figref> is a third diagram for explaining setting of a work point.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. <b>10</b></figref> is a diagram for explaining move lines and a path traveled by the agricultural machine.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. <b>11</b></figref> is a diagram for explaining an inner line.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. <b>12</b>A</figref> is a flowchart showing steps performed by a travel line creation system.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. <b>12</b>B</figref> is a flowchart showing a search process performed by the travel line creation system.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. <b>13</b></figref> is a side overall view of the agricultural machine.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?detailed-description description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0036" num="0035">The preferred embodiments will now be described with reference to the accompanying drawings, wherein like reference numerals designate corresponding or identical elements throughout the various drawings. The drawings are to be viewed in an orientation in which the reference numerals are viewed correctly.</p>
<p id="p-0037" num="0036">Preferred embodiments of the present invention will now be explained while referring to the drawings.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. <b>1</b></figref> is a block diagram of a travel line creation system S that creates a travel line L along which an agricultural machine <b>1</b> travels when the agricultural machine <b>1</b> performs work while making a round in an agricultural field H. The travel line creation system S creates the travel line L along which the agricultural machine <b>1</b> is able to perform work in the agricultural field H and then to move to the outside of the agricultural field H or move to another place or the like while avoiding traveling a place where the work has already been performed.</p>
<p id="p-0039" num="0038">First, the agricultural machine <b>1</b> will now be explained. The agricultural machine <b>1</b> is a machine to which a working device <b>2</b> can be attached, for example, a tractor, a rice transplanter, or the like as illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>. In the description below, a tractor is taken as an example of the agricultural machine <b>1</b>. As illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, the tractor <b>1</b> includes a traveling vehicle <b>3</b>, a prime mover <b>4</b>, and a transmission <b>5</b>. The traveling vehicle <b>3</b> includes a traveling device <b>7</b>. The traveling device <b>7</b> is a device including front wheels <b>7</b>F and rear wheels <b>7</b>R. The front wheels <b>7</b>F may be of a tire type or a crawler type. The rear wheels <b>7</b>R may also be of a tire type or a crawler type. The prime mover <b>4</b> is a diesel engine, an electric motor, or the like. The transmission <b>5</b> is capable of switching a propelling force of the traveling device <b>7</b> by shifting gears and is also capable of switching the traveling device <b>7</b> between forward traveling and rearward traveling. A cabin <b>9</b> is provided on the traveling vehicle <b>3</b>. An operator's seat <b>10</b> is provided inside the cabin <b>9</b>.</p>
<p id="p-0040" num="0039">As illustrated in <figref idref="DRAWINGS">FIG. <b>13</b></figref>, a lifting device <b>8</b> that includes a three-point linkage and the like is provided at a rear portion of the traveling vehicle <b>3</b>. The working device <b>2</b> can be detachably attached to the lifting device <b>8</b>. Coupling the working device <b>2</b> to the lifting device <b>8</b> enables the traveling vehicle <b>3</b> to tow the working device <b>2</b>. The working device <b>2</b> is, for example, a cultivator for cultivation, a fertilizer spreader for spreading a fertilizer, an agricultural chemical spreader for spreading an agricultural chemical, a harvester for harvesting crops, a mower for cutting grass and the like, a tedder for spreading out grass and the like, a rake for collecting grass and the like, or a baler for baling grass and the like.</p>
<p id="p-0041" num="0040">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the tractor <b>1</b> includes a steering device <b>11</b>. The steering device <b>11</b> includes a steering wheel <b>11</b><i>a</i>, a rotation shaft (steering shaft) <b>11</b><i>b </i>that rotates with rotation of the steering wheel <b>11</b><i>a</i>, and an assist mechanism (power steering mechanism) <b>11</b><i>c </i>that assists steering of the steering wheel <b>11</b><i>a</i>. The assist mechanism <b>11</b><i>c </i>includes a hydraulic pump <b>21</b>, a control valve <b>22</b> to which a hydraulic fluid delivered from the hydraulic pump <b>21</b> is supplied, and a steering cylinder <b>23</b> that is operated by the control valve <b>22</b>. The control valve <b>22</b> is a solenoid valve that is activated based on a control signal. The control valve <b>22</b> is, for example, a three-position switching valve that can be switched by the movement of a spool or the like. The control valve <b>22</b> can be switched also by the steering of the steering shaft <b>11</b><i>b</i>. The steering cylinder <b>23</b> is connected to arms (knuckle arms) <b>24</b> configured to change the direction of the front wheels <b>7</b>F.</p>
<p id="p-0042" num="0041">Accordingly, when the steering wheel <b>11</b><i>a </i>is operated, the switching position and the opening of the control valve <b>22</b> are switched in accordance with the steering wheel <b>11</b><i>a</i>, and the steering cylinder <b>23</b> extends or retracts to the left or right in accordance with the switching position and opening of the control valve <b>22</b>. As a result, it is possible to change the steering direction of the front wheels <b>7</b>F. The steering device <b>11</b> described above is a mere example, and its configuration is not limited to the configuration described above.</p>
<p id="p-0043" num="0042">As illustrated in <figref idref="DRAWINGS">FIG. <b>2</b></figref>, the lifting device <b>8</b> includes lift arm(s) <b>8</b><i>a</i>, lower link(s) <b>8</b><i>b</i>, a top link <b>8</b><i>c</i>, lift rod(s) <b>8</b><i>d</i>, and lift cylinder(s) <b>8</b><i>e</i>. The front end portions of the lift arms <b>8</b><i>a </i>are supported in such a way as to be able to move pivotally upward/downward on rear upper portions of a case (transmission case) in which the transmission <b>5</b> is housed. The lift arms <b>8</b><i>a </i>move pivotally (are raised and lowered) when driven by the lift cylinders <b>8</b><i>e</i>. The lift cylinders <b>8</b><i>e </i>are hydraulic cylinders. The lift cylinders <b>8</b><i>e </i>are connected to a hydraulic pump through a control valve. The control valve is a solenoid valve or the like and causes the lift cylinders <b>8</b><i>e </i>to extend and retract.</p>
<p id="p-0044" num="0043">The front end portions of the lower links <b>8</b><i>b </i>are supported in such a way as to be able to move pivotally upward/downward on rear lower portions of the transmission <b>5</b>. The front end portion of the top link <b>8</b><i>c </i>is supported in such a way as to be able to move pivotally upward/downward behind the transmission <b>5</b> above the lower links <b>8</b><i>b</i>. The lift rods <b>8</b><i>d </i>link the lift arms <b>8</b><i>a </i>to the lower links <b>8</b><i>b</i>. The working device <b>2</b> is coupled to the rear portions of the lower links <b>8</b><i>b </i>and the rear portion of the top link <b>8</b><i>c</i>. When the lift cylinders <b>8</b><i>e </i>are driven (to extend or retract), the lift arms <b>8</b><i>a </i>are raised or lowered, and the lower links <b>8</b><i>b</i>, which are linked to the lift arms <b>8</b><i>a </i>via the lift rods <b>8</b><i>d</i>, are raised or lowered. As a result, the working device <b>2</b> moves upward or downward (is raised or lowered), with the front portions of the lower links <b>8</b><i>b </i>acting as fulcrums.</p>
<p id="p-0045" num="0044">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the tractor <b>1</b> includes a positioning device <b>40</b>. The positioning device <b>40</b> is capable of detecting its position (measured position information including latitude and longitude) by using a satellite positioning system (positioning satellites) such as D-GPS, GPS, GLONASS, BeiDou, Galileo, Michibiki, or the like. That is, the positioning device <b>40</b> receives satellite signal(s) (positions of the positioning satellites, transmission times, correction information, etc.) transmitted from the positioning satellites, and detects the position (for example, latitude and longitude) of the tractor <b>1</b>, namely, a vehicle-body position VP, based on the satellite signals. The positioning device <b>40</b> includes a receiver <b>41</b> and an inertial measurement unit (IMU) <b>42</b>. The receiver <b>41</b> is a device including an antenna and the like and configured to receive satellite signals transmitted from the positioning satellites. The receiver <b>41</b> is mounted on the traveling vehicle <b>3</b> separately from the inertial measurement unit <b>42</b>. In the present preferred embodiment, the receiver <b>41</b> is mounted on the traveling vehicle <b>3</b>, specifically, on the cabin <b>9</b>. The position where the receiver <b>41</b> is mounted is not limited to the position described in the present preferred embodiment.</p>
<p id="p-0046" num="0045">The inertial measurement unit <b>42</b> includes an acceleration sensor that detects an acceleration, a gyroscope sensor that detects an angular speed, and the like. The inertial measurement unit <b>42</b> is disposed in the traveling vehicle <b>3</b>, for example, below the operator's seat <b>10</b>, and is capable of detecting a roll angle, a pitch angle, a yaw angle, and the like of the traveling vehicle <b>3</b>.</p>
<p id="p-0047" num="0046">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the tractor <b>1</b> includes a controller <b>60</b>. The controller <b>60</b> is a device that controls a traveling system, a working system, and the like in the tractor <b>1</b>.</p>
<p id="p-0048" num="0047">The controller <b>60</b> includes an automatic-travel controller <b>61</b> that controls automatic traveling of the tractor <b>1</b>. The automatic-travel controller <b>61</b> includes electric/electronic circuit(s) provided in the controller <b>60</b>, program(s) stored in a CPU, etc., and/or the like. Upon start of automatic traveling, the automatic-travel controller <b>61</b> controls the control valve <b>22</b> of the steering device <b>11</b> such that the traveling vehicle <b>3</b> travels along a planned travel route L that has been set in advance. Moreover, upon start of automatic traveling, the automatic-travel controller <b>61</b> controls the velocity (vehicle speed) of the tractor <b>1</b> by automatically changing the gear-shift position of the transmission <b>5</b>, the number of revolutions of the prime mover <b>4</b>, and the like.</p>
<p id="p-0049" num="0048">As illustrated in <figref idref="DRAWINGS">FIG. <b>3</b></figref>, in a situation where the tractor <b>1</b> is traveling automatically, if a deviation of the vehicle-body position VP from the planned travel route L is less than a threshold value, the automatic-travel controller <b>61</b> keeps the rotation angle of the steering shaft (rotation shaft) <b>11</b><i>b</i>. If the deviation of the vehicle-body position VP from the planned travel route L is not less than the threshold value and, in addition, the tractor <b>1</b> is located to the left of the planned travel route L, the automatic-travel controller <b>61</b> causes the steering shaft <b>11</b><i>b </i>to rotate so as to steer the tractor <b>1</b> to the right. If the deviation of the vehicle-body position VP from the planned travel route L is not less than the threshold value and, in addition, the tractor <b>1</b> is located to the right of the planned travel route L, the automatic-travel controller <b>61</b> causes the steering shaft <b>11</b><i>b </i>to rotate so as to steer the tractor <b>1</b> to the left.</p>
<p id="p-0050" num="0049">In the preferred embodiment described above, the steering angle of the steering device <b>11</b> is changed based on the deviation of the vehicle-body position VP from the planned travel route L. However, in a case where the azimuth (vehicle-body azimuth) F<b>1</b> of the direction in which the tractor <b>1</b> (the traveling vehicle <b>3</b>) is headed (the traveling direction) is different from the azimuth of the planned travel route L, that is, if the angle &#x3b8;g of the vehicle-body azimuth F<b>1</b> relative to the planned travel route L is not less than a threshold value, the automatic-travel controller <b>61</b> may set the steering angle such that the angle &#x3b8;g will become zero (the vehicle-body azimuth F<b>1</b> will match the azimuth of the planned travel route L). The automatic-travel controller <b>61</b> may, based on a steering angle calculated based on the position (position deviation) and a steering angle calculated based on the azimuth (azimuth deviation), set a final steering angle in automatic steering. The setting of the steering angle in automatic steering according to the preferred embodiment described above is a mere example and is not limited thereto.</p>
<p id="p-0051" num="0050">The tractor <b>1</b> (the traveling vehicle <b>3</b>) is capable of traveling automatically while being controlled by the controller <b>60</b> as described above.</p>
<p id="p-0052" num="0051">The controller <b>60</b> is capable of performing manual raising and lowering control, automatic raising control, and the like. In the manual raising and lowering control, based on an operation of a raising/lowering switch <b>72</b> connected to the controller <b>60</b>, the lifting device <b>8</b> is controlled to raise or lower the working device <b>2</b>. Specifically, the raising/lowering switch <b>72</b> is a three-position selector switch provided near the operator's seat <b>10</b>. When the raising/lowering switch <b>72</b> is switched from a neutral position to one side, a raising signal for moving the lifting device <b>8</b> (the lift arms <b>8</b><i>a</i>) up is inputted into the controller <b>60</b>. When the raising/lowering switch <b>72</b> is switched from the neutral position to the other side, a lowering signal for moving the lifting device <b>8</b> (the lift arms <b>8</b><i>a</i>) down is inputted into the controller <b>60</b>. Upon acquiring the raising signal, the controller <b>60</b> outputs a control signal to the control valve to move the lifting device <b>8</b> up. Upon acquiring the lowering signal, the controller <b>60</b> outputs a control signal to the control valve to move the lifting device <b>8</b> down. That is, the controller <b>60</b> is capable of performing manual raising and lowering control for moving the lifting device <b>8</b> up/down in accordance with a manual operation of the raising/lowering switch <b>72</b>.</p>
<p id="p-0053" num="0052">In the automatic raising control, if the steering angle of the steering device <b>11</b> is not less than a predetermined value, for example, if the steering angle of the steering device <b>11</b> is a steering angle corresponding to making a turn, the lifting device <b>8</b> is automatically activated to raise the working device <b>2</b>. Specifically, a steering angle detector <b>70</b> and a selector switch <b>71</b> are connected to the controller <b>60</b>. The steering angle detector <b>70</b> is a device that detects the steering angle of the steering device <b>11</b>. The selector switch <b>71</b> is a switch to switch the automatic raising control between &#x201c;enabled&#x201d; and &#x201c;disabled&#x201d;. The selector switch <b>71</b> is switchable between ON and OFF. The automatic raising control is set to be enabled when the selector switch <b>71</b> is ON. The automatic raising control is set to be disabled when the selector switch <b>71</b> is OFF.</p>
<p id="p-0054" num="0053">If the automatic raising control is enabled and, in addition, the steering angle detected by the steering angle detector <b>70</b> is not less than the steering angle corresponding to making a turn, the controller <b>60</b> outputs a control signal to the control valve, thus performing the automatic raising control for moving the lifting device <b>8</b> up automatically.</p>
<p id="p-0055" num="0054">As described above, the controller <b>60</b> is capable of performing control related to the tractor <b>1</b>, for example, the manual raising and lowering control and the automatic raising control.</p>
<p id="p-0056" num="0055">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the travel line creation system S for the agricultural machine <b>1</b> includes a display <b>50</b>, a position acquirer <b>52</b><i>a</i>, a field register <b>52</b><i>b</i>, and a field acquirer <b>52</b><i>c. </i></p>
<p id="p-0057" num="0056">The display <b>50</b> is a traveling assisting device provided near the operator's seat <b>10</b>. The display <b>50</b> includes a display section <b>51</b>, a display controller <b>52</b>, and a memory <b>53</b>. The display section <b>51</b> is a liquid crystal panel, a touch panel, or other kind of panel. The display section <b>51</b> is capable of displaying a field F that represents an agricultural field H. Besides information for providing assistance for traveling of the tractor <b>1</b>, the display section <b>51</b> is capable of displaying various kinds of information regarding the tractor <b>1</b> and the working device <b>2</b>. The display controller <b>52</b> includes electric/electronic component(s) provided in the display <b>50</b>, program(s) stored in the memory <b>53</b> mentioned below, and/or the like. The display controller <b>52</b> causes the display section <b>51</b> to display a screen that is visualization of information stored in the memory <b>53</b>. The memory <b>53</b> is a non-volatile memory or the like. The memory <b>53</b> stores various kinds of information regarding the tractor <b>1</b> and the working device <b>2</b>. The display <b>50</b> is connected to devices of the agricultural machine <b>1</b> such that wired communication or wireless communication can be performed therebetween. The display <b>50</b> is capable of transmitting information to the devices and receiving information from the devices. Specifically, for example, the display controller <b>52</b> of the display <b>50</b> is connected to the controller <b>60</b> of the working machine such that communication can be performed therebetween.</p>
<p id="p-0058" num="0057">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the position acquirer <b>52</b><i>a</i>, the field register <b>52</b><i>b</i>, and the field acquirer <b>52</b><i>c </i>each include electric/electronic component(s), program(s) installed in the display <b>50</b>, and/or the like. In the present preferred embodiment, the display controller <b>52</b> of the display <b>50</b> functions also as the position acquirer <b>52</b><i>a</i>, the field register <b>52</b><i>b</i>, and the field acquirer <b>52</b><i>c</i>. Though the display controller <b>52</b> of the display <b>50</b> functions also as the position acquirer <b>52</b><i>a</i>, the field register <b>52</b><i>b</i>, and the field acquirer <b>52</b><i>c </i>in the present preferred embodiment, an external server, etc. capable of communicating with the display <b>50</b> may include the position acquirer <b>52</b><i>a</i>, the field register <b>52</b><i>b</i>, and the field acquirer <b>52</b><i>c</i>, and the configuration thereof is not limited to the configuration described above.</p>
<p id="p-0059" num="0058">The position acquirer <b>52</b><i>a </i>acquires a plurality of position measurement points Pk (k: each position measurement point, k=1, 2, 3, . . . , k) obtained when the tractor <b>1</b> makes a round in the agricultural field H. Specifically, based on positions of the tractor <b>1</b> detected by the positioning device <b>40</b> (vehicle-body positions VP), the position acquirer <b>52</b><i>a </i>acquires a plurality of position measurement points Pk obtained when the tractor <b>1</b> makes a round in the agricultural field H. In the present preferred embodiment, the position acquirer <b>52</b><i>a </i>is capable of acquiring vehicle-body positions VP including a plurality of position measurement points Pk obtained when the tractor <b>1</b> makes a round in the agricultural field H. It is sufficient as long as the position acquirer <b>52</b><i>a </i>is capable of acquiring a plurality of position measurement points Pk. The position acquirer <b>52</b><i>a </i>may be configured to acquire position information of the plurality of position measurement points Pk from a storage device such as a memory in which the position information of the plurality of position measurement points Pk is stored. The method for acquisition is not limited to the method described above.</p>
<p id="p-0060" num="0059">In the present preferred embodiment, based on the vehicle-body positions VP detected by the positioning device <b>40</b>, the position acquirer <b>52</b><i>a </i>is capable of acquiring the position of an entrance-and-exit (hereinafter &#x201c;entrance/exit&#x201d;) I of the agricultural field H as a position measurement point Pk. For example, when the operator operates the display <b>50</b> while the tractor <b>1</b> makes a round in the agricultural field H, the position acquirer <b>52</b><i>a </i>associates a vehicle-body position VP obtained at this location with the position measurement point Pk of the entrance/exit I of the agricultural field H, and acquires the position measurement point Pk of the entrance/exit I of the agricultural field H. It is sufficient as long as the position acquirer <b>52</b><i>a </i>is capable of acquiring the position of the entrance/exit I of the agricultural field H. The position acquirer <b>52</b><i>a </i>may be configured to acquire position information of the entrance/exit I from a storage device such as a memory in which the position information of the entrance/exit I is stored. The operator may operate the display <b>50</b> and may designate any position as the entrance/exit I on the field F displayed on the display section <b>51</b>. The method for acquisition is not limited to the method described above.</p>
<p id="p-0061" num="0060">The field register <b>52</b><i>b </i>registers a contour E of a particular agricultural field H, for example, positions corresponding to the contour E of the particular agricultural field H, as the field F displayed on the display section <b>51</b>. As illustrated in <figref idref="DRAWINGS">FIG. <b>4</b></figref>, when the operator performs a predetermined operation on the display <b>50</b>, the display controller <b>52</b> displays a field registration screen M<b>1</b> on the display section <b>51</b>. A field display section <b>100</b>, which shows the field F including the agricultural field H and vehicle-body position(s) VP of the tractor <b>1</b>, and an information display section <b>101</b>, which shows agricultural field identification information such as an agricultural field name and an agricultural field management number, are displayed on the field registration screen M<b>1</b>. Position information such as latitude and longitude, besides image data representing the agricultural field H, is associated with the field F. When the tractor <b>1</b> enters the agricultural field H and makes a round in the agricultural field H, based on the position information acquired by the position acquirer <b>52</b><i>a </i>from the positioning device <b>40</b>, the display controller <b>52</b> displays the current vehicle-body positions VP of the tractor <b>1</b> making a round on the field registration screen M<b>1</b>.</p>
<p id="p-0062" num="0061">When the tractor <b>1</b> finishes making a round in the agricultural field H and the operator selects a Register button <b>102</b> displayed on the field registration screen M<b>1</b>, as illustrated in <figref idref="DRAWINGS">FIG. <b>5</b>A</figref>, based on a travel trajectory T obtained from the position information of a plurality of position measurement points Pk acquired by the position acquirer <b>52</b><i>a </i>(the vehicle-body positions VP), the field register <b>52</b><i>b </i>creates the contour (outline) E of the agricultural field H and registers, together with the agricultural field identification information, the field F represented by the contour E. Specifically, the memory <b>53</b> stores the field F indicating the contour (outline) E registered by the field register <b>52</b><i>b</i>. That is, the memory <b>53</b> stores the field F, which is data indicating the contour E of the agricultural field H (data for representation of the predetermined agricultural field H).</p>
<p id="p-0063" num="0062">As illustrated in <figref idref="DRAWINGS">FIG. <b>5</b>B</figref>, the field register <b>52</b><i>b </i>may calculate turning points from the travel trajectory T represented by the vehicle-body positions VP and register the contour E connecting the turning points as the field F for the agricultural field H. As illustrated in <figref idref="DRAWINGS">FIG. <b>5</b>C</figref>, the operator, etc. may designate end portions of the agricultural field H by operating a switch, etc. provided on the tractor <b>1</b> when the tractor <b>1</b> is making a round, and the field register <b>52</b><i>b </i>may register, as the field F, the contour E that is based on the designated end portions. The field register <b>52</b><i>b </i>may be configured to acquire information of the field F from a storage device such as a memory in which the information of the field F including the agricultural field H is stored, and then register the agricultural field H. The methods for registration of the agricultural field H described above are mere examples and are not limited thereto. The contour E of the agricultural field H, that is, the field F, may be data represented by positions (latitude and longitude), may be data represented using a coordinate system (X axis, Y axis), and may be data represented in some other manner.</p>
<p id="p-0064" num="0063">As described above, the display <b>50</b> is capable of causing the field register <b>52</b><i>b </i>to register a plurality of fields F. The field acquirer <b>52</b><i>c </i>acquires a field F representing a particular agricultural field H among the plurality of fields F when work, etc. is to be performed.</p>
<p id="p-0065" num="0064">When the operator performs a predetermined operation on the display <b>50</b>, the field acquirer <b>52</b><i>c </i>displays a predetermined field selection screen (not illustrated) on the display section <b>51</b> of the display <b>50</b>. Maps of the agricultural fields H stored in the memory <b>53</b> are, or a list of the agricultural fields H is, displayed on the field selection screen. The operator is able to, for example, select one agricultural field H from among the plurality of agricultural fields H displayed on the field selection screen by performing a predetermined operation on the display <b>50</b>. When the one agricultural field H is selected, the field acquirer <b>52</b><i>c </i>looks up the memory <b>53</b> and acquires the field F that corresponds to the selected agricultural field H.</p>
<p id="p-0066" num="0065">The travel line creation system S for the agricultural machine <b>1</b> is capable of creating travel line(s) L along which the agricultural machine <b>1</b> makes a round in the agricultural field H. In the present preferred embodiment, the agricultural machine <b>1</b> performs automatic traveling along this travel line L as a planned travel route. In the present preferred embodiment, it is sufficient as long as the travel line L functions as a route along which the agricultural machine <b>1</b> makes a round in the agricultural field H. The agricultural machine <b>1</b> may be manually operated to travel along the travel line L.</p>
<p id="p-0067" num="0066">Specifically, as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the travel line creation system S for the agricultural machine <b>1</b> sets, as travel lines L along each of which the agricultural machine <b>1</b> makes a round, headland work lines Ln (n: headland number (loop number), n=1, 2, 3, . . . , n) to perform work on the headland (headland area A<b>1</b>) of the agricultural field H. It is sufficient as long as the travel line creation system S for the agricultural machine <b>1</b> creates at least travel line(s) L along which the agricultural machine <b>1</b> makes a round in the agricultural field H. In the present preferred embodiment, in addition to loop lines (headland work lines) Ln which are travel lines L including a loop in the agricultural field H, the travel line creation system S for the agricultural machine <b>1</b> is capable of creating inner line(s) LU which is/are travel line(s) L located inward of the headland area A<b>1</b> (located in an inner area A<b>2</b>).</p>
<p id="p-0068" num="0067">As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the travel line creation system S for the agricultural machine <b>1</b> creates, in the agricultural field H, a plurality of unit work zones A<b>3</b> and A<b>4</b> corresponding to the travel lines L (the loop line(s) Ln and the inner line(s) LU) and having the same width as a work width W<b>1</b>. As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>B</figref>, the travel line creation system S for the agricultural machine <b>1</b> may create, in the inner area A<b>2</b>, a plurality of unit work zones A<b>3</b> and A<b>4</b> having a width calculated by subtracting overlap width(s) W<b>2</b>, W<b>3</b> from the work width W<b>1</b>. In this case, the travel line creation system S for the agricultural machine <b>1</b> creates a plurality of first work zones A<b>3</b> having a width calculated by subtracting the first overlap width(s) W<b>2</b> from the work width W<b>1</b>, in the headland area A<b>1</b>, as the unit work zones A<b>3</b>, A<b>4</b> corresponding to the loop lines Ln. In addition, the travel line creation system S for the agricultural machine <b>1</b> creates a plurality of second work zones A<b>4</b> having a width calculated by subtracting the second overlap width(s) W<b>3</b> from the work width W<b>1</b>, in the inner area A<b>2</b>, as the unit work zones A<b>3</b>, A<b>4</b> corresponding to the inner line LU.</p>
<p id="p-0069" num="0068">As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the loop lines Ln are travel lines L along each of which the agricultural machine <b>1</b> makes a round in the headland area A<b>1</b>, and the number of paths corresponds to the number of headlands in the agricultural field H. That is, if the number of headlands is four, as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the paths of the loop lines Ln are four paths located adjacent to each other in a direction from the central portion of the field F outward. If the number of headlands is five, the paths of the loop lines Ln are five paths adjacent to each other in the direction from the central portion of the field F outward.</p>
<p id="p-0070" num="0069">In the description below, terms &#x201c;first loop line L<b>1</b>&#x201d;, &#x201c;second loop line L<b>2</b>&#x201d;, &#x201c;third loop line L<b>3</b>&#x201d;, . . . , and &#x201c;n-th loop line Ln&#x201d; (n=1, 2, 3, . . . , n) counted in order from the outermost loop line Ln toward the innermost loop line Ln will be used for the loop lines Ln. In <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, portions of the fourth loop line L<b>4</b> that overlap the inner line LU is not illustrated.</p>
<p id="p-0071" num="0070">As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the inner line LU includes straight portion(s) LU<b>1</b> each connecting two ends in the longitudinal direction of the inner area A<b>2</b>, and turning portion(s) LU<b>2</b> each connecting adjacent straight portions LU<b>1</b>. That is, the agricultural machine <b>1</b> traveling along the inner line LU makes a turn at each turning portion LU<b>2</b> to move from one straight portion LU<b>1</b> to its adjacent straight portion LU<b>1</b>, thus traveling back and forth between one end and the other end of the inner area A<b>2</b>.</p>
<p id="p-0072" num="0071">As illustrated in <figref idref="DRAWINGS">FIG. <b>1</b></figref>, the travel line creation system S for the agricultural machine <b>1</b> includes a setting acquirer <b>52</b><i>d</i>, a first generator <b>52</b><i>e</i>, a second generator <b>52</b><i>f</i>, a setter <b>52</b><i>g</i>, a third generator <b>52</b><i>h</i>, and a fourth generator <b>52</b><i>i</i>. The setting acquirer <b>52</b><i>d</i>, the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the setter <b>52</b><i>g</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i </i>each include electric/electronic component(s), program(s) installed in the display <b>50</b>, and/or the like. In the present preferred embodiment, the display controller <b>52</b> of the display <b>50</b> functions also as the setting acquirer <b>52</b><i>d</i>, the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the setter <b>52</b><i>g</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i. </i></p>
<p id="p-0073" num="0072">Though the display controller <b>52</b> of the display <b>50</b> functions also as the setting acquirer <b>52</b><i>d</i>, the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the setter <b>52</b><i>g</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i </i>in the present preferred embodiment, an external server, etc. capable of communicating with the display <b>50</b> may include the setting acquirer <b>52</b><i>d</i>, the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the setter <b>52</b><i>g</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i</i>, and the configuration thereof is not limited to the configuration described above.</p>
<p id="p-0074" num="0073">The setting acquirer <b>52</b><i>d </i>acquires setting information regarding the creation of the travel line(s) L. When the operator performs a predetermined operation on the display <b>50</b>, as illustrated in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the display controller <b>52</b> displays a setting screen M<b>2</b>. The setting screen M<b>2</b> includes a number-of-headlands input box <b>110</b>, a first width input box <b>111</b>, a second width input box <b>112</b>, a third width input box <b>113</b>, and a route display section <b>114</b>. The number-of-headlands input box <b>110</b> receives an input of the number of headlands. In the example illustrated in <figref idref="DRAWINGS">FIGS. <b>6</b>A and <b>7</b></figref>, the number of headlands is four, and four paths are formed as loop lines Ln.</p>
<p id="p-0075" num="0074">The first width input box <b>111</b> receives an input of the work width W<b>1</b> of the working device <b>2</b>. The work width W<b>1</b> is a width over which the working device <b>2</b> performs work on the ground of the agricultural field H or the like (width over which work is done).</p>
<p id="p-0076" num="0075">The second width input box <b>112</b> receives an input of the overlap width (first overlap width) W<b>2</b>, which is the width of overlap with an adjacent first work zone A<b>3</b> on the loop lines Ln. The third width input box <b>113</b> receives an input of the overlap width (second overlap width) W<b>3</b>, which is the width of overlap with an adjacent second work zone A<b>4</b> on the inner line LU.</p>
<p id="p-0077" num="0076">The field F acquired by the field acquirer <b>52</b><i>c </i>is displayed in the route display section <b>114</b>. In addition, the route display section <b>114</b> is capable of displaying the created travel line(s) L on the field F.</p>
<p id="p-0078" num="0077">In the present preferred embodiment, the setting acquirer <b>52</b><i>d </i>acquires information inputted on the setting screen M<b>2</b> to acquire setting information regarding the creation of the travel line(s) L. However, the setting acquirer <b>52</b><i>d </i>may acquire information that is stored in the memory <b>53</b>. The source for acquisition is not limited to the configuration described above.</p>
<p id="p-0079" num="0078">The first generator <b>52</b><i>e </i>associates a plurality of position measurement points Pk with the field F displayed by the display <b>50</b>. In addition, as illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, the first generator <b>52</b><i>e </i>generates a plurality of creation points Qnk (n: headland number (loop number), n=1, 2, 3, . . . , n) (k: indicating a creation point, k=1, 2, 3, . . . , k) in the field F by shifting the plurality of position measurement points Pk inward in the agricultural field H. Based on the plurality of position measurement points Pk acquired by the position acquirer <b>52</b><i>a</i>, the first generator <b>52</b><i>e </i>generates a plurality of creation points Qnk. In the present preferred embodiment, the plurality of creation points Qnk include a plurality of position measurement points Pk and a plurality of creation points Qnk obtained by shifting the plurality of position measurement points Pk.</p>
<p id="p-0080" num="0079">The creation points Qnk are points through which a path of a loop line Ln passes. For example, in a case where the first work zones A<b>3</b> are created based on the work width W<b>1</b> as illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>A</figref>, the first generator <b>52</b><i>e </i>generates a plurality of creation points Qnk in accordance with the number of headlands acquired by the setting acquirer <b>52</b><i>d </i>and a shift width that is based on the work width W<b>1</b> (the shift width=the work width W<b>1</b>). As illustrated in <figref idref="DRAWINGS">FIG. <b>6</b>B</figref>, in a case where the first work zones A<b>3</b> having a width calculated by subtracting the overlap width(s) W<b>2</b> from the work width W<b>1</b> are created, the first generator <b>52</b><i>e </i>generates a plurality of creation points Qnk in accordance with the number of headlands acquired by the setting acquirer <b>52</b><i>d </i>and a shift width that is based on a difference between the work width W<b>1</b> and the first overlap width(s) W<b>2</b> (the shift width=the work width W<b>1</b>&#x2212;the first overlap width(s) W<b>2</b>).</p>
<p id="p-0081" num="0080">Specifically, as illustrated in <figref idref="DRAWINGS">FIG. <b>8</b></figref>, based on the number of headlands and the shift width, the first generator <b>52</b><i>e </i>generates creation points Qnk for each of the headlands adjacent to each other (n=1, 2, 3, . . . , n). In the description below, terms &#x201c;first creation points Q1k&#x201d;, &#x201c;second creation points Q2k&#x201d;, &#x201c;third creation points Q3k&#x201d;, . . . , and &#x201c;n-th creation points Qnk&#x201d; counted in order from the outermost creation points Qnk toward the innermost loop line Ln will be used. The first creation points Q1k correspond to (are the same as) the plurality of position measurement points Pk. For example, if the number of headlands is four, the first generator <b>52</b><i>e </i>first generates the second creation points Q2k by shifting the plurality of position measurement points Pk (the first creation points Q1k) inward by the shift width. The first generator <b>52</b><i>e </i>generates the third creation points Q3k by shifting the plurality of position measurement points Pk inward by a width that is twice as great as the shift width, that is, by shifting the second creation points Q2k inward by the shift width. The first generator <b>52</b><i>e </i>generates the fourth creation points Q4k by shifting the plurality of position measurement points Pk inward by a width that is three times as great as the shift width, that is, by shifting the third creation points Q3k inward by the shift width.</p>
<p id="p-0082" num="0081">As illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, the second generator <b>52</b><i>f </i>creates travel line(s) L which passes through the plurality of creation points Qnk generated by the first generator <b>52</b><i>e </i>and along which the agricultural machine <b>1</b> makes a round, and calculates each of a plurality of virtual lines VLni (n: headland number (loop number), n=1, 2, 3, . . . , n) (i: indicating a virtual line, i=1, 2, 3, . . . , i) by connecting together adjacent ones of the plurality of creation points Qnk on each travel line L. Specifically, first, the second generator <b>52</b><i>f </i>creates loop line(s) Ln passing through creation points Qnk, for the respective headland(s). That is, if the number of headlands is four, the second generator <b>52</b><i>f </i>creates loop lines Ln (the first loop line L<b>1</b> to the fourth loop line L<b>4</b>) each passing through corresponding ones of the first creation points Q1k to the fourth creation points Q4k. If the number of headlands is five, the second generator <b>52</b><i>f </i>creates loop lines Ln (the first loop line L<b>1</b> to the fifth loop line L<b>5</b>) each passing through corresponding ones of the first creation points Q1k to the fifth creation points Q5k.</p>
<p id="p-0083" num="0082">Next, the second generator <b>52</b><i>f </i>calculates a plurality of virtual lines VLni each connecting together adjacent ones of the plurality of creation points Qnk on each of the loop lines Ln. That is, each of the loop lines Ln includes a plurality of virtual lines VLni. The second generator <b>52</b><i>f </i>calculates a virtual line VLni (in the present preferred embodiment, i=k) connecting a creation point Qnk and its adjacent creation point Qnk+1. The adjacent creation point Qnk+1 mentioned here is the creation point adjacent to the creation point Qnk on the same headland number (the same loop).</p>
<p id="p-0084" num="0083">For example, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, the second generator <b>52</b><i>f </i>calculates a virtual line VL11 connecting a creation point Q11 and its adjacent creation point Q12. Furthermore, the second generator <b>52</b><i>f </i>calculates a virtual line VL22 connecting a creation point Q22 and its adjacent creation point Q23.</p>
<p id="p-0085" num="0084">In the present preferred embodiment, each virtual line VLni is a straight line connecting adjacent creation points Qnk to each other. However, it is sufficient as long as the virtual line VLni connects adjacent creation points Qnk to each other. The virtual line VLni may be an arbitrary curve.</p>
<p id="p-0086" num="0085">The setter <b>52</b><i>g </i>extracts, from the plurality of virtual lines VLni generated by the second generator <b>52</b><i>f</i>, a pair of virtual lines VLni&#x2212;1 and VLni adjacent to each other and extending in different directions, and sets the creation point Qnk (for example, k=i) that is shared by the extracted pair of virtual lines VLni&#x2212;1and VLni as a work point Rn regarding a breakpoint in work performed by the working device <b>2</b>. <figref idref="DRAWINGS">FIG. <b>9</b>A</figref> illustrates an example of a case where a work point Rn of the first loop line L<b>1</b> (R<b>1</b>) and a work point Rn of the second loop line L<b>2</b> (R<b>2</b>), among the loop lines Ln, are set. The work point Rn is a work start point, a work end point, a pause point, or a work preparation point of the working device <b>2</b>. For example, the work point Rn is a point serving as a breakpoint in work when the agricultural machine <b>1</b> moves from a loop line Ln on which the agricultural machine <b>1</b> is currently located to the outside of the agricultural field H or to an adjacent loop line Ln. In the present preferred embodiment, an explanation will be given on the assumption that the work point Rn is the work start point. In this case, the work end point is a point at a position that is immediately preceding the work start point (the work point Rn) (position displaced from the work start point in the direction opposite to the direction of travel of the agricultural machine <b>1</b>).</p>
<p id="p-0087" num="0086">In a case where there are a plurality of such pairs of virtual lines VLni&#x2212;1 and VLni, the setter <b>52</b><i>g </i>extracts a particular pair of virtual lines VLni&#x2212;1 and VLni defining an angle not less than a criterion value from the plurality of pairs of virtual lines VLni&#x2212;1 and VLni, and sets the creation point Qnk that is shared by the extracted predetermined pair of virtual lines VLni&#x2212;1 and VLni as a candidate for the work point Rn (a first condition). The creation point Qnk shared by the pair of virtual lines VLni&#x2212;1 and VLni mentioned here is the creation point Qnk common to &#x201c;the creation point Qnk&#x2212;1 and the creation point Qnk that are connected by the virtual line VLni&#x2212;1&#x201d; and &#x201c;the creation point Qnk and the creation point Qnk+1 that are connected by the virtual line VLni&#x201d;. For example, as illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, the creation point Qnk shared by a pair of virtual lines VL11 and VL12 is a creation point Q12 common to &#x201c;a creation point Q11 and the creation point Q12 that are connected by the virtual line VL11&#x201d; and &#x201c;the creation point Q12 and a creation point Q13 that are connected by the virtual line VL12&#x201d;.</p>
<p id="p-0088" num="0087">In the present preferred embodiment, the criterion value is about 40&#xb0;, for example. In a case where there are a plurality of such pairs of virtual lines VLni&#x2212;1 and VLni, the setter <b>52</b><i>g </i>checks whether or not an external angle &#x3b8;ank (n: headland number (loop number), n=1, 2, 3, . . . , n) (k: indicating a creation point, k=1, 2, 3, . . . , k) defined by each pair of virtual lines VLni&#x2212;1 and VLni is not less than a predetermined criterion value, extracts a particular pair of virtual lines VLni&#x2212;1 and VLni whose external angle &#x3b8;ank is not less than about 40&#xb0;, and sets the creation point Qnk that is shared by the extracted particular pair of virtual lines VLni&#x2212;1 and VLni as a candidate for the work point Rn. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, an external angle &#x3b8;a<b>12</b> defined by a pair of virtual lines VL<b>11</b> and VL<b>12</b> is not less than about 40&#xb0;, and the creation point shared by them is set as a candidate for the work point Rn. Though the criterion value is about 40&#xb0; in the present preferred embodiment, the criterion value may be within a range from about 20&#xb0; to about 60&#xb0;, and is not limited to the value mentioned above.</p>
<p id="p-0089" num="0088">In addition to the candidate(s) for the work point Rn satisfying the first condition described above, the setter <b>52</b><i>g </i>sets, as candidate(s) for the work point Rn, creation point(s) Qnk satisfying a predetermined condition (a second condition). <figref idref="DRAWINGS">FIG. <b>9</b>B</figref> illustrates an example of a case where the work point R<b>1</b> of the first loop line L<b>1</b>, among the loop lines Ln in afield F different from that of <figref idref="DRAWINGS">FIG. <b>9</b>A</figref>, is set. Specifically, assume that, among a plurality of virtual lines VLni connecting four adjacent creation points Qnk (a first adjacent point DP1 to a fourth adjacent point DP4 counted in order clockwise or counterclockwise from a predetermined position on a loop line Ln), the virtual line VLni connecting the first adjacent point DP1 and the second adjacent point DP2 to each other is defined as a first virtual line VLa, the virtual line VLni connecting the second adjacent point DP2 and the third adjacent point DP3 to each other is defined as a second virtual line VLb, and the virtual line VLni connecting the third adjacent point DP3 and the fourth adjacent point DP4 to each other is defined as a third virtual line VLc. In this case, the setter <b>52</b><i>g </i>sets the third adjacent point DP3 as a candidate for the work point Rn if the sum of an external angle &#x3b8;ank defined by the first virtual line VLa and the second virtual line VLb and an external angle &#x3b8;ank+1 defined by the second virtual line VLb and the third virtual line VLc is not less than a criterion value (for example, about 40&#xb0;) and if the length of the first virtual line VLa to the third virtual line VLc is less than a predetermined length (for example, about 10 m).</p>
<p id="p-0090" num="0089">In the example illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>B</figref>, the setter <b>52</b><i>g </i>sets the third adjacent point DP3 (Q15) as a candidate for the work point Rn because the sum of an external angle &#x3b8;a14 defined by the first virtual line VLa (VL13) and the second virtual line VLb (VL14) and an external angle &#x3b8;a15 defined by the second virtual line VLb (VL14) and the third virtual line VLc (VL15) is not less than about 40&#xb0; and the length of the first virtual line VLa to the third virtual line VLc is less than about 10 m.</p>
<p id="p-0091" num="0090">Furthermore, in a case where there are a plurality of candidates for the work point Rn, the setter <b>52</b><i>g </i>extracts a particular pair of virtual lines VLni&#x2212;1 and VLni defining an internal angle &#x3b8;bnk (k: indicating a creation point, k=1, 2, 3, . . . , k) less than about 180&#xb0; from a plurality of the extracted pairs of virtual lines VLni&#x2212;1 and VLni, and sets the creation point Qnk shared by the extracted particular pair of virtual lines VLni&#x2212;1 and VLni as a candidate for the work point Rn (a third condition). In other words, the setter <b>52</b><i>g </i>excludes, from the candidates for the work point Rn, the creation point(s) Qnk shared by a pair of virtual lines VLni&#x2212;1 and VLni defining an internal angle &#x3b8;bnk not less than about 180&#xb0; (n: headland number (loop number), n=1, 2, 3, . . . , n, k=1, 2, 3, . . . , k), among the plurality of pairs of virtual lines VLni&#x2212;1 and VLni having been extracted.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. <b>9</b>C</figref> illustrates an example of a case where the work point R<b>1</b> of the first loop line L<b>1</b>, among the loop lines Ln in a field F different from those of <figref idref="DRAWINGS">FIGS. <b>9</b>A and <b>9</b>B</figref>, is set. As illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>C</figref>, in a case where a loop line Ln is shaped such that the outline of the loop line Ln at least partially includes a recessed portion Z, even if a creation point Qnk at the recessed portion Z satisfies the first condition or the second condition, the setter <b>52</b><i>g </i>excludes this creation point from the candidate(s) for the work point Rn, in accordance with the third condition. In the example illustrated in <figref idref="DRAWINGS">FIG. <b>9</b>C</figref>, an internal angle &#x3b8;b131 defined by a pair of virtual lines VL130 and VL131 at the recessed portion Z is about 270&#xb0;, which is not less than about 180&#xb0;. Therefore, a creation point Q131, which is shared by the pair of virtual lines VL130 and VL131, is excluded from the candidate(s) for the work point Rn.</p>
<p id="p-0093" num="0092">The setter <b>52</b><i>g </i>performs a search for candidates for the work point Rn with on the basis of a creation point Qnk in the vicinity of the entrance/exit I of the agricultural field H (such a creation point Qnk is a reference point B). The reference point B is the creation point Qnk created based on the position measurement point Pk of the entrance/exit I of the agricultural field H. The setter <b>52</b><i>g </i>performs a search to check whether the above-described conditions for the candidates for the work point Rn (the first condition and the third condition, or the second condition and the third condition) are satisfied or not, sequentially for the creation points Qnk from the reference point B, both clockwise and counterclockwise from the reference point B. Specifically, the setter <b>52</b><i>g </i>performs a search for candidates for the work point Rn within a range in which the distance from the reference point B is less than one-fifth of the entire length of a loop line Ln. That is, the setter <b>52</b><i>g </i>performs a search both in the clockwise direction and the counterclockwise direction from the reference point B, and sets, in each of these directions, the creation point Qnk that is nearest to the reference point B and that satisfies the conditions for candidates for the work point Rn (the first condition and the third condition, or the second condition and the third condition) as the candidates for the work point Rn.</p>
<p id="p-0094" num="0093">Though the setter <b>52</b><i>g </i>performs a search for candidates for the work point Rn within a range in which the distance from the reference point B is less than about one-fifth of the entire length of the loop line Ln in the present preferred embodiment, the range within which the setter <b>52</b><i>g </i>performs a search may be a range in which the distance from the reference point B is less than about one-seventh to about one-third of the entire length of the loop line Ln, and is not limited to the range described above.</p>
<p id="p-0095" num="0094">If there are a plurality of candidates for the work point Rn within the range on the clockwise side and the range on the counterclockwise side of the reference point B, the setter <b>52</b><i>g </i>sets the candidate that is nearest to the entrance/exit of the agricultural field H as the work point Rn among the plurality of candidates. If there are no candidates for the work point Rn within the range on the clockwise side or the range on the counterclockwise of the reference point B, the setter <b>52</b><i>g </i>sets the reference point B as the work point Rn. This is described with reference to <figref idref="DRAWINGS">FIG. <b>10</b></figref> as an example. Since creation points Qnk for respective loop lines Ln are located at different positions in the direction in which the paths of the loop lines Ln extend, the work points Rn are set for the respective paths at different positions in the direction in which the paths extend.</p>
<p id="p-0096" num="0095">Based on the work points Rn set by the setter <b>52</b><i>g</i>, as illustrated in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the third generator <b>52</b><i>h </i>creates move lines N each connecting one loop line Ln and its adjacent loop line Ln and a move line N connecting a loop line Ln and the inner line LU. Each move line N is a portion of the travel line(s) L. For example, in the case where the agricultural machine <b>1</b> moves from an inner loop line Ln to an outer loop line Ln, the move line N is a line that connects a position that immediately precedes the work point Rn of the inner loop line Ln (such a position is a work end point) to the work point Rn (work start point) of the outer loop line Ln. For example, the agricultural machine <b>1</b> makes a turn to move to the outer loop line Ln from the work end point, and then moves backward to the work start point P3n. In the case where the agricultural machine <b>1</b> moves to the outside of the agricultural field H from the outermost loop line Ln, the move line N is a line that connects a position that immediately precedes the work point P3n (work start point) of the outermost loop line Ln (such a position is a work end point) to the entrance/exit I of the agricultural field H. For example, the agricultural machine <b>1</b> moves to the entrance/exit I of the agricultural field H by making a turn from the work end point.</p>
<p id="p-0097" num="0096">Though the agricultural machine <b>1</b> travels along the travel line(s) L automatically in the present preferred embodiment, the agricultural machine <b>1</b> may travel along the move lines N automatically in a case of being manually operated to travel along the loop line(s) Ln and the inner line LU of the travel lines L.</p>
<p id="p-0098" num="0097">It is sufficient as long as the agricultural machine <b>1</b> is capable of moving from the inner line LU to the innermost loop line Ln, from an inner loop line Ln to an outer loop line Ln, and from the outermost loop line Ln to the outside of the agricultural field H while avoiding traveling a place where work has already been performed. The route of the move lines N is not limited to the example described above.</p>
<p id="p-0099" num="0098">As illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the fourth generator <b>52</b><i>i </i>creates the inner line LU in an area (the inner area A<b>2</b>) inward of the headland. Based on the work point Rn of the innermost loop line Ln among the work points Rn set by the setter <b>52</b><i>g</i>, the fourth generator <b>52</b><i>i </i>creates the inner line LU. Specifically, as illustrated in <figref idref="DRAWINGS">FIG. <b>11</b></figref>, the fourth generator <b>52</b><i>i </i>sets straight portion(s) LU<b>1</b>, of the inner line LU, each of which connects opposite ends in the longitudinal direction. The fourth generator <b>52</b><i>i </i>sets the straight portion LU<b>1</b> that has at least one end (termination end) coincides with the work point Rn of the innermost loop line Ln. In addition, the fourth generator <b>52</b><i>i </i>creates turning portion(s) LU<b>2</b> each connecting adjacent straight portions LU<b>1</b> in the headland area A<b>1</b>.</p>
<p id="p-0100" num="0099">The travel line(s) L set in the inner area A<b>2</b> and the headland area A<b>1</b> by the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i </i>is/are stored into the memory <b>53</b>. At least the loop line(s) Ln of the travel line(s) L set by the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i </i>is/are displayed on the route display section <b>114</b> of the setting screen M<b>2</b>. In the present preferred embodiment, as illustrated in <figref idref="DRAWINGS">FIG. <b>7</b></figref>, the loop line(s) Ln and the straight portion(s) LU<b>1</b> of the travel line(s) L set by the first generator <b>52</b><i>e</i>, the second generator <b>52</b><i>f</i>, the third generator <b>52</b><i>h</i>, and the fourth generator <b>52</b><i>i </i>are displayed in the route display section <b>114</b> of the setting screen M<b>2</b>. Note that the direction in which the agricultural machine <b>1</b> travels along the travel line(s) L (the loop line(s) Ln) is set based on the direction from the work point Rn toward the entrance/exit I.</p>
<p id="p-0101" num="0100">For example, the following description is given with reference to <figref idref="DRAWINGS">FIG. <b>10</b></figref> as an example. Since each work point Rn is located lower than the entrance/exit I in <figref idref="DRAWINGS">FIG. <b>10</b></figref>, the direction from the work point Rn toward the entrance/exit I is an upward direction in <figref idref="DRAWINGS">FIG. <b>10</b></figref>. Therefore, the direction of travel of the agricultural machine <b>1</b> is set to be counterclockwise along the loop lines Ln. In addition, on the route display section <b>114</b>, the point where the agricultural machine <b>1</b> starts work in the agricultural field H, that is, the work start point in the inner area A<b>2</b>, is represented by a first icon <b>114</b><i>a</i>, and the point where the agricultural machine <b>1</b> ends work in the agricultural field H, that is, the work point Rn of the first loop line L<b>1</b>, is represented by a second icon <b>114</b><i>b. </i></p>
<p id="p-0102" num="0101"><figref idref="DRAWINGS">FIGS. <b>12</b>A and <b>12</b>B</figref> are flowcharts showing steps performed by the travel line creation system S for the agricultural machine <b>1</b>. The following description discusses the creation of travel line(s) L based on the assumption that the registration of the agricultural field H has already been done.</p>
<p id="p-0103" num="0102">As illustrated in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, when the operator operates the display <b>50</b> to select a particular agricultural field H from a plurality of agricultural fields H having been registered (S<b>1</b>), the field acquirer <b>52</b><i>c </i>acquires the field F that represents the particular agricultural field H from the memory <b>53</b> (S<b>2</b>).</p>
<p id="p-0104" num="0103">Upon the acquisition of the field F by the field acquirer <b>52</b><i>c </i>(S<b>2</b>), the setting acquirer <b>52</b><i>d </i>acquires information inputted on the display <b>50</b> (for example, the number of headlands, the work width W<b>1</b>, the first overlap width W<b>2</b>, and/or the second overlap width W<b>3</b> (S<b>3</b>). Upon the acquisition of the inputted information by the setting acquirer <b>52</b><i>d </i>(S<b>3</b>), based on the position measurement points Pk acquired by the position acquirer <b>52</b><i>a</i>, the first generator <b>52</b><i>e </i>generates creation points Qnk (S<b>4</b>). Specifically, if the number of headlands is two or more, the first generator <b>52</b><i>e </i>first creates creation points Qnk through which the outermost loop line Ln passes and then creates creation points Qnk through which inner loop lines Ln pass.</p>
<p id="p-0105" num="0104">As illustrated in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref>, upon the generation of the creation points Qnk by the first generator <b>52</b><i>e </i>(S<b>4</b>), the second generator <b>52</b><i>f </i>creates travel line(s) L including a loop (loop line(s) Ln), and calculates virtual lines VLni (S<b>5</b>). For example, the second generator <b>52</b><i>f </i>first creates a loop line Ln passing through the outermost creation points Qnk, and then creates loop lines Ln passing through their corresponding inner creation points Qnk sequentially. In this case, the second generator <b>52</b><i>f </i>calculates a plurality of virtual lines VLni by connecting together adjacent ones of the plurality of creation points Qnk on the travel lines L.</p>
<p id="p-0106" num="0105">After the calculation of the plurality of virtual lines VLni by the second generator <b>52</b><i>f </i>(S<b>5</b>), the processing proceeds to a phase in which, as illustrated in <figref idref="DRAWINGS">FIG. <b>12</b>B</figref>, for example, the setter <b>52</b><i>g </i>sets work points Rn sequentially on loop lines Ln from the outermost loop line Ln inward (search process). In the search process, the setter <b>52</b><i>g </i>starts a search for the candidate for the work point Rn that is nearest from the reference point B clockwise from the reference point B (S<b>6</b>), and, after the end of this search, starts a search for the candidate for the work point Rn that is nearest from the reference point B counterclockwise from the reference point B (S<b>13</b>). Though the setter <b>52</b><i>g </i>performs the counterclockwise search for the work point Rn after performing the clockwise search for the work point Rn in the present preferred embodiment, the order may be reversed.</p>
<p id="p-0107" num="0106">In the search for candidates for the work point Rn, the setter <b>52</b><i>g </i>determines whether the first condition and the third condition are satisfied or not, sequentially clockwise from the creation point Qnk that is nearest to the reference point B (S<b>7</b>). If the creation point Qnk satisfies the first condition and the third condition (S<b>7</b>: Yes), the setter <b>52</b><i>g </i>stores this creation point Qnk as a candidate for the work point Rn (S<b>8</b>).</p>
<p id="p-0108" num="0107">If the creation point Qnk does not satisfy the first condition and the third condition (S<b>7</b>: No), the setter <b>52</b><i>g </i>determines whether this creation point Qnk satisfies the second condition and the third condition or not (S<b>9</b>). If the creation point Qnk satisfies the second condition and the third condition (S<b>9</b>: Yes), the setter <b>52</b><i>g </i>stores this creation point Qnk as a candidate for the work point Rn (S<b>10</b>).</p>
<p id="p-0109" num="0108">If the creation point Qnk does not satisfy the second condition and the third condition (S<b>9</b>: No), the setter <b>52</b><i>g </i>determines whether the distance, from the reference point B, of the creation point Qnk for which the determination regarding the first to third conditions has been performed is less than one-fifth of the entire length of the loop line Ln or not (S<b>11</b>).</p>
<p id="p-0110" num="0109">If the distance of the creation point Qnk from the reference point B is less than one-fifth of the entire length of the loop line Ln (S<b>11</b>: Yes), the setter <b>52</b><i>g </i>performs a search for a creation point Qnk that is clockwise adjacent to this creation point Qnk (S<b>12</b>).</p>
<p id="p-0111" num="0110">In a case where the creation point(s) Qnk is stored as a candidate for the work point Rn (S<b>8</b>, S<b>10</b>), and in a case where the distance of the creation point Qnk from the reference point B is not less than one-fifth of the entire length of the loop line Ln (S<b>11</b>: No), the setter <b>52</b><i>g </i>starts a search for the candidate for the work point Rn that is nearest from the reference point B counterclockwise from the reference point B (S<b>13</b>).</p>
<p id="p-0112" num="0111">In the search for candidates for the work point Rn, the setter <b>52</b><i>g </i>determines whether the first condition and the third condition are satisfied or not, sequentially counterclockwise from the creation point Qnk that is nearest to the reference point B (S<b>14</b>). If the creation point Qnk satisfies the first condition and the third condition (S<b>14</b>: Yes), the setter <b>52</b><i>g </i>stores this creation point Qnk as a candidate for the work point Rn (S<b>15</b>).</p>
<p id="p-0113" num="0112">If the creation point Qnk does not satisfy the first condition and the third condition (S<b>14</b>: No), the setter <b>52</b><i>g </i>determines whether this creation point Qnk satisfies the second condition and the third condition or not (S<b>16</b>). If the creation point Qnk satisfies the second condition and the third condition (S<b>16</b>: Yes), the setter <b>52</b><i>g </i>stores this creation point Qnk as a candidate for the work point Rn (S<b>17</b>).</p>
<p id="p-0114" num="0113">If the creation point Qnk does not satisfy the second condition and the third condition (S<b>16</b>: No), the setter <b>52</b><i>g </i>determines whether the distance, from the reference point B, of the creation point Qnk for which the determination regarding the first to third conditions has been performed is less than one-fifth of the entire length of the loop line Ln or not (S<b>18</b>). If the distance of the creation point Qnk from the reference point B is within a range of about one-fifth of the entire length of the loop line Ln (S<b>18</b>: Yes), the setter <b>52</b><i>g </i>performs a search for a creation point Qnk that is counterclockwise adjacent to this creation point Qnk (S<b>19</b>).</p>
<p id="p-0115" num="0114">In a case where the creation point(s) Qnk is stored as a candidate for the work point Rn (S<b>15</b>, S<b>17</b>), and in a case where the distance of the creation point Qnk from the reference point B is not less than about one-fifth of the entire length of the loop line Ln (S<b>18</b>: No), the setter <b>52</b><i>g </i>terminates the search process and checks whether there are any stored candidates for the work point Rn or not (S<b>20</b>) as illustrated in <figref idref="DRAWINGS">FIG. <b>12</b>A</figref>.</p>
<p id="p-0116" num="0115">If there are no stored candidates for the work point Rn (S<b>20</b>; No), the setter <b>52</b><i>g </i>sets the reference point B as the work point Rn (S<b>21</b>). If there are any stored candidate(s) for the work point Rn (S<b>20</b>; Yes), the setter <b>52</b><i>g </i>checks whether only a single candidate for the work point Rn is stored (S<b>22</b>).</p>
<p id="p-0117" num="0116">If only a single candidate for the work point Rn is stored (S<b>22</b>; Yes), the setter <b>52</b><i>g </i>sets this single candidate for the work point Rn as the work point Rn (S<b>23</b>). On the other hand, if there are a plurality of (two) stored candidates for the work point Rn (S<b>22</b>: No), the setter <b>52</b><i>g </i>sets one of the two candidates for the work point Rn that is nearer to the reference point B as the work point Rn (S<b>24</b>).</p>
<p id="p-0118" num="0117">Upon the setting of the work point Rn by the setter <b>52</b><i>g </i>(S<b>21</b>, S<b>22</b>, S<b>23</b>), the fourth generator <b>52</b><i>i </i>creates an inner line LU in an area (inner area A<b>2</b>) located inward of the headland (S<b>25</b>). Upon the creation of the inner line LU by the fourth generator <b>52</b><i>i</i>, based on the set work point(s) Rn, the third generator <b>52</b><i>h </i>creates move lines N each connecting one loop line Ln and its adjacent loop line Ln and a move line N connecting another loop line Ln and the inner line LU (S<b>26</b>). Upon the creation of the move lines N by the third generator <b>52</b><i>h </i>(S<b>26</b>), the travel lines L including the created loop line(s) Ln, the created move lines N, and the created inner line LU are displayed on the route display section <b>114</b> of the setting screen M<b>2</b> (S<b>27</b>).</p>
<p id="p-0119" num="0118">A travel line creation system S for an agricultural machine <b>1</b> as has been discussed includes a position acquirer <b>52</b><i>a </i>to acquire position measurement points Pk obtained when the agricultural machine <b>1</b> to which a working device <b>2</b> is attachable makes a round in an agricultural field H, a display <b>50</b> to display a field F that represents the agricultural field H, a first generator <b>52</b><i>e </i>to associate the position measurement points Pk with the field F displayed by the display <b>50</b> and generate creation points Qnk on the field F by shifting the position measurement points Pk inward in the agricultural field H, a second generator <b>52</b><i>f </i>to create a travel line L including a loop which passes through the creation points Qnk generated by the first generator <b>52</b><i>e </i>and calculate each of virtual lines VLni by connecting together adjacent ones of the creation points Qnk on the travel line L, and a setter <b>52</b><i>g </i>to extract, from the virtual lines VLni generated by the second generator <b>52</b><i>f</i>, a pair of virtual lines VLni&#x2212;1, VLni adjacent to each other and extending in different directions and set, as a work point Rn regarding a breakpoint in work performed by the working device <b>2</b>, one of the creation points Qnk that is shared by the extracted pair of virtual lines VLni&#x2212;1, VLni. With this configuration, the agricultural machine <b>1</b> performs an operation regarding a breakpoint in work at a bent or curved portion of the travel line L that extends in different directions. Therefore, when the agricultural machine <b>1</b> moves to the outside of the agricultural field H, the agricultural machine <b>1</b> is able to leave the travel line L of the work region while avoiding traveling on the place where the working device <b>2</b> has already performed work.</p>
<p id="p-0120" num="0119">If there are a plurality of the pairs of virtual lines VLni&#x2212;1, VLni, the setter <b>52</b><i>g </i>may extract a particular pair of virtual lines VLni&#x2212;1, VLni defining an angle not less than a criterion value from the plurality of pairs of virtual lines VLni&#x2212;1, VLni, and set, as the work point Rn, one of the creation points Qnk that is shared by the extracted particular pair of virtual lines VLni&#x2212;1, VLni. With this configuration, it is possible to exclude pair(s) of virtual lines VLni&#x2212;1 and VLni each defining a line relatively close to a straight line, from pair(s) of virtual lines VLni&#x2212;1 and VLni that is/are candidate(s) for the work point Rn. Therefore, when the agricultural machine <b>1</b> moves to the outside of the agricultural field H, the agricultural machine <b>1</b> is capable of putting an end to work at a position where the angle is relatively large and leaving the travel line L while avoiding traveling on the place where work has already been performed.</p>
<p id="p-0121" num="0120">If there are candidates for the work point Rn, the setter <b>52</b><i>g </i>may extract a particular pair of virtual lines VLni&#x2212;1, VLni defining an internal angle &#x3b8;bnk less than 180&#xb0; from a plurality of the extracted pairs of virtual lines VLni&#x2212;1, VLni, and set, as the work point Rn, one of the creation points Qnk that is shared by the extracted particular pair of virtual lines VLni&#x2212;1, VLni. With this configuration, even in a case where a portion of the travel line L is recessed, it is possible to exclude the recessed portion from candidates for the work point Rn. Therefore, when the agricultural machine <b>1</b> moves to the outside of the agricultural field H, the agricultural machine <b>1</b> is capable of putting an end to work at a position protruding outward on the perimeter of the agricultural field H and leaving the travel line L, and therefore it is possible to avoid traveling on the place where work has already been performed.</p>
<p id="p-0122" num="0121">If there are candidates for the work point Rn, the setter <b>52</b><i>g </i>may set, as the work point Rn, one of the candidates that is nearest to an entrance-and-exit of the agricultural field H. With this configuration, the agricultural machine <b>1</b> is capable of moving to the outside of the agricultural field H or to another place or the like from the travel line L efficiently by traveling a relatively short distance.</p>
<p id="p-0123" num="0122">The second generator <b>52</b><i>f </i>may set, as the travel line L, a headland work line Ln to performing work on a headland of the agricultural field H. With this configuration, when the agricultural machine <b>1</b> performs work on an area located inward of the headland and performs work on the headland while making a round on the headland, it is possible to increase efficiency of the work on the headland and efficiency of the movement from the headland work line Ln to the outside of the agricultural field H.</p>
<p id="p-0124" num="0123">The setter may set a work start point, a work end point, a pause point, or a work preparation point of the working device <b>2</b> as the work point Rn. With this configuration, it is possible to leave the travel line L while avoiding, to a greater extent, traveling on the place where work has already been performed.</p>
<p id="p-0125" num="0124">The second generator <b>52</b><i>f </i>may generate, as a plurality of the travel lines L, paths adjacent to each other in a direction from a central portion of the field F outward. The setter <b>52</b><i>g </i>may set, respectively for the paths adjacent to each other, a plurality of the work points Rn at different positions in a direction in which the paths extend. With the configuration, when the agricultural machine moves from one travel line L to its adjacent travel line L, the agricultural machine moves to a position displaced along the direction of extension of the travel lines L, thus making it possible to avoid, to a greater extent, traveling on the place where work has already been performed.</p>
<p id="p-0126" num="0125">An agricultural machine <b>1</b> includes the travel line creation system S for an agricultural machine <b>1</b> described above. This configuration makes it possible to provide an agricultural machine <b>1</b> that achieves the advantageous effect(s) described above.</p>
<p id="p-0127" num="0126">While preferred embodiments of the present invention have been described above, it is to be understood that variations and modifications will be apparent to those skilled in the art without departing from the scope and spirit of the present invention. The scope of the present invention, therefore, is to be determined solely by the following claims.</p>
<?detailed-description description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text><b>1</b>. A travel line creation system for an agricultural machine, the travel line creation system comprising:
<claim-text>a position acquirer to acquire position measurement points obtained when the agricultural machine to which a working device is attachable makes a round in an agricultural field;</claim-text>
<claim-text>a display to display a field that represents the agricultural field;</claim-text>
<claim-text>a first generator to:
<claim-text>associate the position measurement points with the field displayed by the display; and</claim-text>
<claim-text>generate creation points on the field by shifting the position measurement points inward in the agricultural field;</claim-text>
</claim-text>
<claim-text>a second generator to:
<claim-text>create a travel line including a loop which passes through the creation points generated by the first generator; and</claim-text>
<claim-text>calculate each of virtual lines by connecting together adjacent ones of the creation points on the travel line; and</claim-text>
</claim-text>
<claim-text>a setter to:
<claim-text>extract, from the virtual lines generated by the second generator, a pair of virtual lines adjacent to each other and extending in different directions; and</claim-text>
<claim-text>set, as a work point regarding a breakpoint in work performed by the working device, one of the creation points that is shared by the extracted pair of virtual lines.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text><b>2</b>. The travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the setter is operable to, if there are a plurality of the pairs of virtual lines, extract a particular pair of virtual lines defining an angle not less than a criterion value from the plurality of pairs of virtual lines, and set, as the work point, one of the creation points that is shared by the extracted particular pair of virtual lines.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text><b>3</b>. The travel line creation system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein
<claim-text>the setter is operable to, if there are candidates for the work point, extract a particular pair of virtual lines defining an internal angle less than 180&#xb0; from a plurality of the extracted pairs of virtual lines, and set, as the work point, one of the creation points that is shared by the extracted particular pair of virtual lines.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text><b>4</b>. The travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the setter is operable to, if there are candidates for the work point, set, as the work point, one of the candidates that is nearest to an entrance-and-exit of the agricultural field.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text><b>5</b>. The travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second generator is operable to set, as the travel line, a headland work line to perform work on a headland of the agricultural field.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text><b>6</b>. The travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the setter is operable to set a work start point, a work end point, a pause point, or a work preparation point of the working device as the work point.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text><b>7</b>. The travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the second generator is operable to generate, as a plurality of the travel lines, paths adjacent to each other in a direction from a central portion of the field outward; and</claim-text>
<claim-text>the setter is operable to set, respectively for the paths adjacent to each other, a plurality of the work points at different positions in a direction in which the paths extend.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text><b>8</b>. An agricultural machine, comprising:
<claim-text>the travel line creation system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-application>
